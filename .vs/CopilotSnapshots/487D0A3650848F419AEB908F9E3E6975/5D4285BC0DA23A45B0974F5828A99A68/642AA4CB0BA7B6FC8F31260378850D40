@page "/kajwallpaper"
@rendermode InteractiveServer

<div class="kaj-cool-bg">
    <!-- Zweedse vlaggetjeslijn -->
    <svg class="kaj-flags-svg" viewBox="0 0 900 60" width="100%" height="60" xmlns="http://www.w3.org/2000/svg">
        <g>
            @for (int i = 0; i < 12; i++)
            {
                <g transform="translate(@(i*75),0)">
                    <rect x="8" y="10" width="32" height="24" fill="#006aa7" stroke="#222" stroke-width="1.5"/>
                    <rect x="18" y="10" width="6" height="24" fill="#fecc00"/>
                    <rect x="8" y="19" width="32" height="6" fill="#fecc00"/>
                </g>
            }
            <polyline points="0,40 900,40" stroke="#222" stroke-width="3" fill="none"/>
        </g>
    </svg>
    <!-- Noorderlicht animatie -->
    <svg class="kaj-northernlights-svg" viewBox="0 0 900 200" width="100%" height="200" xmlns="http://www.w3.org/2000/svg">
        <defs>
            <linearGradient id="aurora1" x1="0" y1="0" x2="1" y2="0">
                <stop offset="0%" stop-color="#00ffd0" stop-opacity="0.7"/>
                <stop offset="100%" stop-color="#6a5cff" stop-opacity="0.5"/>
            </linearGradient>
            <linearGradient id="aurora2" x1="0" y1="0" x2="1" y2="0">
                <stop offset="0%" stop-color="#aaffff" stop-opacity="0.5"/>
                <stop offset="100%" stop-color="#ff6aff" stop-opacity="0.4"/>
            </linearGradient>
        </defs>
        <path id="auroraPath1" d="M0 120 Q 200 80 400 120 T 900 120 V200 H0Z" fill="url(#aurora1)">
            <animate attributeName="d" values="M0 120 Q 200 80 400 120 T 900 120 V200 H0Z;M0 120 Q 200 100 400 80 T 900 120 V200 H0Z;M0 120 Q 200 80 400 120 T 900 120 V200 H0Z" dur="7s" repeatCount="indefinite" />
        </path>
        <path id="auroraPath2" d="M0 160 Q 300 120 600 160 T 900 160 V200 H0Z" fill="url(#aurora2)" opacity="0.7">
            <animate attributeName="d" values="M0 160 Q 300 120 600 160 T 900 160 V200 H0Z;M0 160 Q 300 180 600 120 T 900 160 V200 H0Z;M0 160 Q 300 120 600 160 T 900 160 V200 H0Z" dur="9s" repeatCount="indefinite" />
        </path>
    </svg>
    <!-- Draaiende transparante cirkel -->
    <svg class="kaj-rotating-svg" viewBox="0 0 900 900" width="100%" height="100%" xmlns="http://www.w3.org/2000/svg">
        <circle cx="450" cy="450" r="320" fill="none" stroke="#fff" stroke-width="32" opacity="0.08" />
    </svg>
    <!-- Particle effect -->
    <div class="kaj-particles"></div>
    <!-- Cartoon accordeon -->
    <svg class="kaj-accordion-svg" viewBox="0 0 120 60" width="120" height="60" xmlns="http://www.w3.org/2000/svg">
        <rect x="10" y="20" width="20" height="20" rx="4" fill="#fff" stroke="#222" stroke-width="2"/>
        <rect x="90" y="20" width="20" height="20" rx="4" fill="#fff" stroke="#222" stroke-width="2"/>
        <rect x="30" y="18" width="60" height="24" rx="8" fill="#e53935" stroke="#222" stroke-width="2"/>
        <rect x="38" y="22" width="44" height="16" rx="6" fill="#fffde4" stroke="#222" stroke-width="1"/>
        <rect x="50" y="26" width="20" height="8" rx="3" fill="#222"/>
        <circle cx="20" cy="30" r="2.5" fill="#222"/>
        <circle cx="100" cy="30" r="2.5" fill="#222"/>
    </svg>
    <svg class="kaj-cool-svg" viewBox="0 0 900 900" width="100%" height="100%" xmlns="http://www.w3.org/2000/svg">
        <defs>
            <radialGradient id="pulse" cx="50%" cy="50%" r="60%">
                <stop offset="0%" stop-color="#fff" stop-opacity="0.18"/>
                <stop offset="60%" stop-color="#00fff7" stop-opacity="0.10"/>
                <stop offset="100%" stop-color="#000" stop-opacity="0.0"/>
            </radialGradient>
            <linearGradient id="wave" x1="0" y1="0" x2="1" y2="0">
                <stop offset="0%" stop-color="#00fff7"/>
                <stop offset="100%" stop-color="#ff00cc"/>
            </linearGradient>
        </defs>
        <!-- Pulsing cirkel -->
        <circle cx="450" cy="420" r="220" fill="url(#pulse)">
            <animate attributeName="r" values="220;260;220" dur="2s" repeatCount="indefinite" />
        </circle>
        <!-- Neon golven -->
        <path d="M0 700 Q 180 670 450 700 T 900 700" stroke="url(#wave)" stroke-width="16" fill="none" opacity="0.7">
            <animate attributeName="d" values="M0 700 Q 180 670 450 700 T 900 700;M0 700 Q 180 770 450 700 T 900 700;M0 700 Q 180 670 450 700 T 900 700" dur="2s" repeatCount="indefinite" />
        </path>
        <path d="M0 800 Q 300 770 900 800" stroke="#00fff7" stroke-width="8" fill="none" opacity="0.4">
            <animate attributeName="d" values="M0 800 Q 300 770 900 800;M0 800 Q 300 830 900 800;M0 800 Q 300 770 900 800" dur="2s" repeatCount="indefinite" />
        </path>
        <!-- Muzieknoten animatie -->
        <g>
            <g>
                <circle cx="180" cy="300" r="12" fill="#ff00cc">
                    <animate attributeName="cy" values="300;220;300" dur="2.5s" repeatCount="indefinite" />
                </circle>
                <rect x="175" y="220" width="6" height="40" rx="3" fill="#ff00cc">
                    <animate attributeName="y" values="220;140;220" dur="2.5s" repeatCount="indefinite" />
                </rect>
            </g>
            <g>
                <circle cx="720" cy="350" r="10" fill="#00fff7">
                    <animate attributeName="cy" values="350;270;350" dur="2.2s" repeatCount="indefinite" />
                </circle>
                <rect x="715" y="270" width="6" height="32" rx="3" fill="#00fff7">
                    <animate attributeName="y" values="270;210;270" dur="2.2s" repeatCount="indefinite" />
                </rect>
            </g>
            <g>
                <circle cx="600" cy="180" r="8" fill="#fffde4">
                    <animate attributeName="cy" values="180;120;180" dur="2.8s" repeatCount="indefinite" />
                </circle>
                <rect x="596" y="120" width="6" height="24" rx="3" fill="#fffde4">
                    <animate attributeName="y" values="120;80;120" dur="2.8s" repeatCount="indefinite" />
                </rect>
            </g>
        </g>
    </svg>
    <div class="kaj-cool-content">
        <span class="kaj-cool-title kaj-glitch kaj-notes">kaj
            <span class="kaj-note" style="--i:0;">&#119070;</span>
            <span class="kaj-note" style="--i:1;">&#119071;</span>
            <span class="kaj-note" style="--i:2;">&#119082;</span>
        </span>
        <span class="kaj-cool-sub">band experience</span>
        <div class="kaj-gloss"></div>
    </div>
</div>

@code {
    [Inject] IJSRuntime JS { get; set; }
    protected override async Task OnAfterRenderAsync(bool firstRender)
    {
        if (firstRender)
        {
            await JS.InvokeVoidAsync("eval", @"
                const parent = document.querySelector('.kaj-particles');
                if(parent && parent.children.length === 0) {
                  const positions = [
                    {top:'12%',left:'18%',delay:'0s'},
                    {top:'22%',left:'70%',delay:'0.7s'},
                    {top:'60%',left:'30%',delay:'1.2s'},
                    {top:'80%',left:'80%',delay:'1.7s'},
                    {top:'40%',left:'50%',delay:'2.1s'},
                    {top:'75%',left:'15%',delay:'2.7s'}
                  ];
                  positions.forEach(p => {
                    const d = document.createElement('div');
                    d.className = 'kaj-particle';
                    d.style.top = p.top;
                    d.style.left = p.left;
                    d.style.animationDelay = p.delay;
                    parent.appendChild(d);
                  });
                }
            ");
        }
    }
}

@* CSS is nu verplaatst naar een eigen bestand: KajWallpaper.razor.css *@
